<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Generate PWA Icons</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 20px;
        background: #f5f5f5;
      }
      .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #3b82f6;
      }
      canvas {
        display: none;
      }
      .preview {
        display: flex;
        gap: 20px;
        margin: 20px 0;
        flex-wrap: wrap;
      }
      .icon-preview {
        text-align: center;
      }
      .icon-preview img {
        border: 1px solid #ddd;
        border-radius: 10px;
      }
      button {
        background: #3b82f6;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        margin: 5px;
      }
      button:hover {
        background: #2563eb;
      }
      .instructions {
        background: #f0f9ff;
        border-left: 4px solid #3b82f6;
        padding: 15px;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üé® WhiteBoard PWA Icon Generator</h1>

      <div class="instructions">
        <h3>üìã Instructions:</h3>
        <ol>
          <li>Click "Generate All Icons" button below</li>
          <li>Download each icon by clicking the download buttons</li>
          <li>
            Save all icons to the <code>/public</code> folder of your project
          </li>
          <li>The icons will be ready for your PWA!</li>
        </ol>
      </div>

      <button
        onclick="generateAllIcons()"
        style="font-size: 18px; padding: 15px 30px"
      >
        ‚ú® Generate All Icons
      </button>

      <div id="previews" class="preview"></div>

      <canvas id="canvas"></canvas>
    </div>

    <script>
      const sizes = [192, 256, 384, 512];
      const appleSizes = [180]; // Apple touch icon

      function generateIcon(size, isApple = false) {
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");

        canvas.width = size;
        canvas.height = size;

        // Create gradient background
        const gradient = ctx.createLinearGradient(0, 0, size, size);
        gradient.addColorStop(0, "#3b82f6");
        gradient.addColorStop(0.5, "#2563eb");
        gradient.addColorStop(1, "#7c3aed");

        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, size, size);

        // Add subtle pattern
        ctx.globalAlpha = 0.1;
        for (let i = 0; i < size; i += 20) {
          ctx.strokeStyle = "white";
          ctx.lineWidth = 1;
          ctx.beginPath();
          ctx.moveTo(i, 0);
          ctx.lineTo(0, i);
          ctx.stroke();
        }
        ctx.globalAlpha = 1;

        // Draw "WB" text
        ctx.fillStyle = "white";
        ctx.font = `bold ${size * 0.45}px Arial, sans-serif`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";

        // Add shadow for depth
        ctx.shadowColor = "rgba(0,0,0,0.3)";
        ctx.shadowBlur = size * 0.02;
        ctx.shadowOffsetX = size * 0.01;
        ctx.shadowOffsetY = size * 0.01;

        ctx.fillText("WB", size / 2, size / 2);

        return canvas.toDataURL("image/png");
      }

      function downloadIcon(dataUrl, filename) {
        const link = document.createElement("a");
        link.download = filename;
        link.href = dataUrl;
        link.click();
      }

      function generateAllIcons() {
        const previewsDiv = document.getElementById("previews");
        previewsDiv.innerHTML = "";

        // Generate standard PWA icons
        sizes.forEach((size) => {
          const dataUrl = generateIcon(size);

          const iconDiv = document.createElement("div");
          iconDiv.className = "icon-preview";
          iconDiv.innerHTML = `
                    <img src="${dataUrl}" width="100" height="100" alt="${size}x${size}">
                    <p>${size}x${size}</p>
                    <button onclick="downloadIcon('${dataUrl}', 'icon-${size}x${size}.png')">
                        ‚¨áÔ∏è Download
                    </button>
                `;
          previewsDiv.appendChild(iconDiv);
        });

        // Generate Apple touch icon
        appleSizes.forEach((size) => {
          const dataUrl = generateIcon(size, true);

          const iconDiv = document.createElement("div");
          iconDiv.className = "icon-preview";
          iconDiv.innerHTML = `
                    <img src="${dataUrl}" width="100" height="100" alt="${size}x${size}">
                    <p>Apple Touch Icon (${size}x${size})</p>
                    <button onclick="downloadIcon('${dataUrl}', 'apple-touch-icon.png')">
                        ‚¨áÔ∏è Download
                    </button>
                `;
          previewsDiv.appendChild(iconDiv);
        });

        // Add download all button
        const downloadAllDiv = document.createElement("div");
        downloadAllDiv.style.width = "100%";
        downloadAllDiv.style.marginTop = "20px";
        downloadAllDiv.innerHTML = `
                <button onclick="downloadAllIcons()" style="width: 100%; font-size: 18px; padding: 15px;">
                    üì¶ Download All Icons
                </button>
            `;
        previewsDiv.appendChild(downloadAllDiv);
      }

      function downloadAllIcons() {
        // Download standard icons
        sizes.forEach((size) => {
          const dataUrl = generateIcon(size);
          setTimeout(() => {
            downloadIcon(dataUrl, `icon-${size}x${size}.png`);
          }, (100 * size) / 192);
        });

        // Download Apple icon
        setTimeout(() => {
          const dataUrl = generateIcon(180, true);
          downloadIcon(dataUrl, "apple-touch-icon.png");
        }, 500);

        alert(
          "‚úÖ All icons are being downloaded! Please save them to your /public folder."
        );
      }

      // Auto-generate on load
      window.onload = () => {
        generateAllIcons();
      };
    </script>
  </body>
</html>
